<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>Hello</title>
        <link rel="stylesheet" href="/b/bootstrap/dist/css/bootstrap.min.css">
        <link rel="stylesheet" href="/b/bootstrap/dist/css/bootstrap-theme.min.css">
        <link rel="stylesheet" href="/b/animate.css/animate.min.css">
        <link rel="stylesheet" href="/css/style.css">
        <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=1">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-status-bar-style" content="black">
        <script>
          // test account for jay, works on localhost:5000
          var fbAppId = "756437764450452"
        </script>
    </head>
    <body>
      <div id="fb-root"></div>
      <script>
      window.fbAsyncInit = function() {

        // test account for jay, works on localhost:5000
        var fbAppId = "756437764450452"

        FB.init({
          appId      : fbAppId,
          xfbml      : true,
          version    : 'v2.2',
          status     : true
        });

        FB.getLoginStatus(function(response){
          // FB logged in and this app has permissions
          if (response.status === "connected") {
            window.userId = response.authResponse.userID;

            // Get user information
            // OK so this is what we'll do with server after the frontend part is cleared.
            /*if(window.userId) {
              var xhr = new XMLHttpRequest();
              xhr.open("GET", "/api/user/"+window.userId, false);
              xhr.send();
              var response = JSON.parse(xhr.response);
              //window.user = response[0].user;
            } */

          // not a user or not authenticated with the app
          } else {
            window.userId = false;
            //console.log(response);
          }
        });
      };

      (function(d, s, id){
        var js, fjs = d.getElementsByTagName(s)[0];
        if (d.getElementById(id)) {return;}
        js = d.createElement(s); js.id = id;
        js.src = "https://connect.facebook.net/en_US/all.js";
        fjs.parentNode.insertBefore(js, fjs);
      }(document, 'script', 'facebook-jssdk'));
    </script>

    <a href="https://github.com/jayJs"><img style="position: absolute; top: 0; right: 0; border: 0;" src="https://camo.githubusercontent.com/38ef81f8aca64bb9a64448d0d70f1308ef5341ab/68747470733a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f72696768745f6461726b626c75655f3132313632312e706e67" alt="Fork me on GitHub" data-canonical-src="https://s3.amazonaws.com/github/ribbons/forkme_right_darkblue_121621.png"></a>

    <div id="loading">
      Loading...
    </div>
    <div id="app" class="hidden container">

      <a href="#" id="home" type="button" class="btn btn-default pull-left" aria-label="Home">
        <span class="glyphicon glyphicon-home" aria-hidden="true"></span> &nbsp;&nbsp;Home
      </a>

      <a href="#/add" id="add" type="button" class="btn btn-default pull-right" aria-label="Add new">
        <span class="glyphicon glyphicon-plus" aria-hidden="true"></span> &nbsp;&nbsp;Add post
      </a>

      <div class="clearfix"></div>

      <ul id="tabs" class="nav nav-tabs" style="margin-top: 25px; margin-bottom: 25px;">
        <li role="presentation"><a id="viewLink" href="#/p/2">View</a></li>
        <li role="presentation" class="active"><a id="editLink" href="#/e/2">Edit</a></li>
      </ul>

      <div id="listPosts" class="hidden">
        <ul id="postUl">
        </ul>
      </div>

      <div id="onePost" class="hidden">
        <div id="showPost">
        </div>
      </div>

      <div id="addPost" class="hidden">
        <form id="addPostForm" style="text-align: left; margin-top: 25px;">
          <p>
            <label for="title">Title</label><br />
            <input id="title" type="text" class="form-control" /><br />
          </p>
          <p>
            <label for="content">Content</label><br />
            <textarea id="content" type="text" style="height: 150px;" class="form-control"></textarea><br />
          </p>
          <input id="addProgramSubmit" class="btn button" type="submit">
        </form>
      </div>

      <div id="editPost" class="hidden">
        <form id="editPostForm" style="text-align: left; margin-top: 25px;">
        </form>
      </div>

      <div id="logIn" class="hidden" style="text-align: center; margin-top: 50px;">
        <a href="/auth/facebook" id='fbLogin' type='button' class='btn' style="background: #3b55a0; color: #fff;  width: 50%; height: 60px; padding-top: 20px; margin-top: 20px; margin-bottom: 20px;">
          <img style="margin-top: -4px; margin-right: 15px;" class="" src="/img/fb.png" />
          Logi sisse Facebookiga<br />
        </a>
      </div>


      <!--
      <a href="#/" class="btn" style="border: 1px solid #000; color: #fff; background-color: #999;">
        Front page
      </a>
      <a href="#/you" class="btn" style="border: 1px solid #000; color: #fff; background-color: #999;">
        Some other page
      </a>
      <a href="#/admin" class="btn" style="border: 1px solid #000; color: #fff; background-color: #999;">
        Admin
      </a>
      <br /><br /><br /><br /><br />
      <div id="frontPage" style="height: 100px;" class="hidden">
        Front page div visible
      </div>
      <div id="otherPage"  style="height: 100px;" class="hidden">
        Other page div visible
      </div>
      <div id="admin"  style="height: 100px; text-align: center;" class="hidden">
        <a href="/auth/facebook" id='fbLogin' type='button' class='btn hidden' style="background: #3b55a0; color: #fff;  width: 50%; height: 60px; padding-top: 20px; margin-top: 20px; margin-bottom: 20px;">
          <img style="margin-top: -4px; margin-right: 15px;" class="" src="/img/fb.png" />
          Logi sisse Facebookiga<br />
        </a>
        <div id="userInfo" class="hidden">
          userId: <span id="userIdShow"></span><br />
          <a onclick="window.userId; FB.logout();" href="/logout">Log out</a>
        </div>
      </div> -->






    </div>

    <script src="/b/jquery/dist/jquery.min.js"></script>
    <script src="/b/js-signals/dist/signals.min.js"></script>
    <script src="/b/hasher/dist/js/hasher.min.js"></script>
    <script src="/b/crossroads/dist/crossroads.min.js"></script>
    <script src="/b/html5shiv/dist/html5shiv.js"></script>
    <script src="/b/respond/dest/respond.min.js"></script>
    <script src="/b/bootstrap/dist/js/bootstrap.min.js"></script>
    <script src="/b/momentjs/min/moment.min.js"></script>
    <script src="/b/jay/jay.js"></script>
    <script src="/js/script.js"></script>
  </body>
</html>
